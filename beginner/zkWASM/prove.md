# Proof Phase:

## Proof Generation

In the Proof Phase the web assembly interpreter (wasmi) outputs two traces; the web assembly bytecode as the execution trace & the host API call trace. These record the order of the host API calls and their output. The combination of the two traces ensures the host call trace is in the same order as the execution trace (including the same input arguments).<br>

To generate a single proof using zkWasm using the wasm image generated from the C code above `output.wasm`, we simply run the ZKWASM VM with that image and  provide a public input `--public 2:i64` and a private input `--private 2:i64` to it.

```console
$ZKWASMBIN/delphinus-cli --host standard -k 18 --function $FUNC --output ./output --param ./output --wasm ./pkg/output.wasm single-prove --public 1:i64 --private 1:i64
```

This produces the following files in the output directory `--output ./output`:

```
.
├── Makefile
├── output.wasm
├── params
  ├── K18.params
  ├── K21.params
  ├── zkwasm.circuit.data
  └── zkwasm.vkey.data
├── output
  ├── etable.json
  ├── external_host_table.json
  ├── imtable.json
  ├── itable.json
  ├── jtable.json
  ├── mtable.json
  ├── zkwasm.0.instance.data
  ├── zkwasm.loadinfo.json
  └── zkwasm.0.transcript.data
```

The overall information of the proof is stored in the zkwasm.loadinfo.json which looks like the following
```
{
  "circuit": "zkwasm.circuit.data",
  "k": 18,
  "instance_size": [
    2
  ],
  "transcripts": [
    "zkwasm.0.transcript.data"
  ],
  "instances": [
    "zkwasm.0.instance.data"
  ],
  "param": "K18.params",
  "name": "zkwasm",
  "hashtype": "Poseidon"
}
```

There are a few things in zkwasm.loadinfo.json worth mention at this stage. First of all, the zkwasm.circuit.data file contains all the information about the circuit (vkey, constraints, gate shape, etc). The zkwasm.X.instance.data is the public instance for the proof, the zkwasm.X.transcript.data is the execution proof generated for the output.wasm with given inputs. XXX.json files are execution trace for debugging purpose and the external_host_table is the trace of the host function calling info (In this example, we do not invoke any host apis thus the external_host_table is empty. Please refere to ZKWASM host circuits for more details).

The process of proof generation requires reading the `zkwasm.vkey.data` which is implied by the zkwasm.circuit.data and `K.params` that is generated in the previous Setup Phase. These files in the params folder will be need in the proof batching phase when we batch several proofs together to generate a single aggregated proof<br> (Please refere to the proof batching phase for more details about proof arrangement and batching).

## Proof Verification:

The verification of a proof generated by zkWasm is done using the `single-verify` command line arguement. In the below bash script which is execuated from within `output_simple_program` a single verification run can be done by:

```
$ZKWASMBIN/delphinus-cli --host standard -k 18 --function $FUNC --output ./output --param ./params --wasm ./pkg/output.wasm single-verify
```
where `ZKWASMBIN` is the directory of zkWasm.


